<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>IT-Inventory | é›»è…¦è¨­å‚™ç‹€æ…‹ç®¡ç†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --bg: #f3f4f6;
      --bg-soft: #ffffff;
      --card-bg: #ffffff;
      --border-subtle: #e5e7eb;
      --accent: #2563eb;
      --accent-soft: rgba(37,99,235,0.08);
      --accent-soft-2: rgba(37,99,235,0.04);
      --accent-hover: #1d4ed8;
      --text: #111827;
      --text-soft: #6b7280;
      --danger: #dc2626;
      --radius-xl: 16px;
      --radius-md: 10px;
      --shadow-soft: 0 14px 40px rgba(15,23,42,0.08);
      --shadow-soft-sm: 0 8px 20px rgba(15,23,42,0.06);
      --transition-fast: 0.18s ease;
      --font: system-ui, -apple-system, BlinkMacSystemFont, -system-ui, sans-serif;
      --base-font-size: 15px;
      --small-font: 13px;
      --xsmall-font: 11px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: var(--font);
      font-size: var(--base-font-size);
      background: radial-gradient(circle at top, rgba(129,140,248,0.14), transparent),
                  var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    .page {
      max-width: 1240px;
      margin: 0 auto;
      padding: 24px 16px 32px;
    }

    /* Header */
    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      padding: 12px 18px;
      margin-bottom: 20px;
      border-radius: 18px;
      background: rgba(255,255,255,0.98);
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-soft-sm);
    }

    .brand-title {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo {
      width: 28px;
      height: 28px;
      border-radius: 9px;
      background: radial-gradient(circle at 30% 0, #bfdbfe, #2563eb);
      box-shadow: 0 0 10px rgba(37,99,235,0.45);
    }

    .brand-text-main {
      font-weight: 600;
      letter-spacing: 0.06em;
      font-size: 14px;
      text-transform: uppercase;
      color: #1f2937;
    }

    .brand-text-sub {
      font-size: var(--xsmall-font);
      color: var(--text-soft);
    }

    .top-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      justify-content: flex-end;
      font-size: var(--xsmall-font);
      color: var(--text-soft);
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 6px #22c55e;
    }

    .pill-label {
      color: var(--text-soft);
    }

    .pill-strong {
      color: #111827;
      font-weight: 500;
    }

    /* Main layout */
    .layout {
      display: grid;
      grid-template-columns: minmax(280px, 340px) minmax(0, 1fr);
      gap: 18px;
      align-items: flex-start;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border-subtle);
      padding: 14px 14px 12px;
      box-shadow: var(--shadow-soft);
    }

    .card h2 {
      margin: 0 0 4px;
      font-size: 17px;
      font-weight: 600;
      color: #111827;
    }

    .card-subtitle {
      font-size: var(--small-font);
      color: var(--text-soft);
      margin-bottom: 10px;
    }

    label {
      display: block;
      font-size: var(--xsmall-font);
      margin: 6px 0 3px;
      color: var(--text-soft);
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }

    input, select, textarea {
      font-size: var(--small-font);
      padding: 7px 9px;
      width: 100%;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #ffffff;
      color: var(--text);
      outline: none;
      transition: border-color var(--transition-fast),
                  box-shadow var(--transition-fast),
                  background var(--transition-fast),
                  transform var(--transition-fast);
    }

    input::placeholder,
    textarea::placeholder {
      color: #9ca3af;
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(37,99,235,0.14);
      background: #ffffff;
      transform: translateY(-1px);
    }

    textarea {
      resize: vertical;
      min-height: 60px;
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    button {
      cursor: pointer;
      border-radius: 999px;
      padding: 7px 14px;
      font-size: var(--small-font);
      border: none;
      background: var(--accent-soft-2);
      color: var(--text);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all var(--transition-fast);
      box-shadow: 0 4px 10px rgba(148,163,253,0.25);
    }

    button span.icon {
      font-size: 14px;
      line-height: 1;
    }

    button.primary {
      background: linear-gradient(to right, var(--accent), var(--accent-hover));
      color: #ffffff;
      font-weight: 500;
      box-shadow: 0 8px 20px rgba(37,99,235,0.28);
    }

    button.primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 26px rgba(37,99,235,0.36);
    }

    button:hover {
      background: var(--accent-soft);
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(148,163,253,0.3);
    }

    button.danger {
      background: #fef2f2;
      color: var(--danger);
      box-shadow: 0 4px 10px rgba(248,113,113,0.2);
      border: 1px solid #fecaca;
    }

    button.danger:hover {
      background: #fee2e2;
    }

    /* Filters + table */
    .filters {
      margin: 2px 0 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .filters-label {
      font-size: var(--xsmall-font);
      color: var(--text-soft);
      margin-right: 2px;
    }

    .filters input,
    .filters select {
      width: auto;
      min-width: 150px;
      padding-right: 26px;
      background: #ffffff;
    }

    .table-wrap {
      margin-top: 4px;
      border-radius: 14px;
      border: 1px solid #e5e7eb;
      overflow: hidden;
      background: #ffffff;
      box-shadow: var(--shadow-soft-sm);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--small-font);
    }

    thead {
      background: #f9fafb;
    }

    th, td {
      padding: 8px 9px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
      white-space: nowrap;
    }

    th {
      font-size: var(--xsmall-font);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-soft);
      position: sticky;
      top: 0;
      z-index: 5;
      cursor: pointer;
      user-select: none;
      background: #f9fafb;
    }

    th[data-sort]:hover {
      color: var(--accent);
      background: #eef2ff;
    }

    tbody tr {
      transition: background var(--transition-fast),
                  transform var(--transition-fast),
                  box-shadow var(--transition-fast);
    }

    tbody tr:nth-child(even) {
      background: #ffffff;
    }

    tbody tr:nth-child(odd) {
      background: #fdfdfd;
    }

    tbody tr:hover {
      background: #eff6ff;
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(148,163,253,0.35);
    }

    td {
      color: #111827;
      max-width: 260px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .status-ok,
    .status-repair,
    .status-retired,
    .status-loan {
      font-size: var(--xsmall-font);
      font-weight: 600;
      padding: 4px 10px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .status-ok {
      color: #166534;
      background: #bbf7d0;
      border: 1px solid #4ade80;
    }

    .status-repair {
      color: #92400e;
      background: #fed7aa;
      border: 1px solid #fb923c;
    }

    .status-retired {
      color: #6b7280;
      background: #e5e7eb;
      border: 1px solid #9ca3af;
    }

    .status-loan {
      color: #1d4ed8;
      background: #dbeafe;
      border: 1px solid #60a5fa;
    }

    .note {
      font-size: var(--xsmall-font);
      color: var(--text-soft);
      white-space: nowrap;
    }

    .actions {
      display: flex;
      gap: 4px;
    }

    .actions button {
      padding: 4px 9px;
      font-size: var(--xsmall-font);
      box-shadow: none;
      background: #ffffff;
      border-radius: 999px;
      border: 1px solid #d1d5db;
    }

    .actions button:hover {
      background: #eff6ff;
      border-color: var(--accent);
      transform: translateY(-1px);
      box-shadow: 0 3px 8px rgba(148,163,253,0.35);
    }

    @media (max-width: 860px) {
      .page { padding: 18px 12px 26px; }
      .topbar {
        flex-direction: column;
        align-items: flex-start;
      }
      .layout {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
<div class="page">
  <!-- Top bar -->
  <div class="topbar">
    <div class="brand-title">
      <div class="brand-logo"></div>
      <div>
        <div class="brand-text-main">IT INVENTORY CONSOLE</div>
        <div class="brand-text-sub">å…¬å¸é›»è…¦è³‡ç”¢ Â· ä½¿ç”¨è€… Â· ç‹€æ…‹ Â· ä½ç½®</div>
      </div>
    </div>
    <div class="top-meta">
      <div class="pill">
        <div class="pill-dot"></div>
        <span class="pill-label">ä½¿ç”¨ç¯„åœ</span>
        <span class="pill-strong">å…¬å¸å…§éƒ¨</span>
      </div>
      <div class="pill">
        <span class="pill-label">æœ€å¾Œæ›´æ–°</span>
        <span class="pill-strong" id="lastSync">â€”</span>
      </div>
      <div class="pill">
        <span class="pill-label">å„²å­˜æ–¹å¼</span>
        <span class="pill-strong">ç€è¦½å™¨å„²å­˜</span>
      </div>
    </div>
  </div>

  <div class="layout">
    <!-- Left: Form -->
    <div class="card">
      <h2 id="formTitle">æ–°å¢ / ç·¨è¼¯é›»è…¦è³‡æ–™</h2>
      <div class="card-subtitle">
        ä»¥ã€Œè³‡ç”¢ç·¨è™Ÿã€ä½œç‚ºå”¯ä¸€éµï¼Œå„²å­˜æ™‚è‹¥å·²å­˜åœ¨åŒç·¨è™Ÿï¼Œå°‡æ›´æ–°è©²ç­†è³‡æ–™ã€‚
      </div>

      <form id="pcForm">
        <label>è³‡ç”¢ç·¨è™Ÿï¼ˆå¿…å¡«ï¼Œå”¯ä¸€ï¼‰
          <input type="text" id="asset_id" required>
        </label>

        <label>Hostname
          <input type="text" id="hostname">
        </label>

        <div class="row">
          <div>
            <label>ä½¿ç”¨è€…
              <input type="text" id="user">
            </label>
          </div>
          <div>
            <label>éƒ¨é–€
              <input type="text" id="department" placeholder="ä¾‹å¦‚ï¼šè¡Œæ”¿ / ç”Ÿç”¢ / å“ä¿ / ç ”ç™¼">
            </label>
          </div>
        </div>

        <div class="row">
          <div>
            <label>ä½ç½®
              <input type="text" id="location" placeholder="ä¾‹å¦‚ï¼šè¾¦å…¬å®¤A / å€‰åº« / æ©Ÿæˆ¿">
            </label>
          </div>
          <div>
            <label>ç‹€æ…‹
              <select id="status">
                <option value="æ­£å¸¸">æ­£å¸¸</option>
                <option value="ç¶­ä¿®ä¸­">ç¶­ä¿®ä¸­</option>
                <option value="å ±å»¢">å ±å»¢</option>
                <option value="å€Ÿå‡ºä¸­">å€Ÿå‡ºä¸­</option>
              </select>
            </label>
          </div>
        </div>

        <label>è¦æ ¼ï¼ˆé¸å¡«ï¼‰
          <input type="text" id="spec" placeholder="ä¾‹å¦‚ï¼ši5 / 16GB / 512GB SSD">
        </label>

        <div class="row">
          <div>
            <label>ä½œæ¥­ç³»çµ±
              <input type="text" id="os" placeholder="ä¾‹å¦‚ï¼šWindows 10 Pro">
            </label>
          </div>
          <div>
            <label>ç¶­è­·äººå“¡
              <input type="text" id="owner" placeholder="ä¾‹å¦‚ï¼šIT-Allen">
            </label>
          </div>
        </div>

        <label>å‚™è¨»
          <textarea id="note" placeholder="ä¾‹å¦‚ï¼šé¢¨æ‰‡ç•°éŸ³ / å·²é€ä¿® / é è¨ˆå ±å»¢æ™‚é–“"></textarea>
        </label>

        <div class="btn-row">
          <button type="submit" class="primary">
            <span class="icon">ğŸ’¾</span>
            <span>å„²å­˜ï¼ˆæ–°å¢ / æ›´æ–°ï¼‰</span>
          </button>
          <button type="button" onclick="clearForm()">
            <span class="icon">ğŸ§¹</span>
            <span>æ¸…ç©ºè¡¨å–®</span>
          </button>
        </div>
        <div class="btn-row">
          <button type="button" class="danger" onclick="resetToDefault()">
            <span class="icon">â†º</span>
            <span>é‡ç½®ç‚ºç¯„ä¾‹è³‡æ–™ï¼ˆåƒ…æ­¤ç€è¦½å™¨ï¼‰</span>
          </button>
        </div>
      </form>
    </div>

    <!-- Right: List -->
    <div class="card">
      <h2>è¨­å‚™æ¸…å–® / æŸ¥è©¢</h2>
      <div class="card-subtitle">
        æ”¯æ´é—œéµå­—æœå°‹ã€ç‹€æ…‹èˆ‡éƒ¨é–€ç¯©é¸ï¼Œé»æ¬„ä½åç¨±å¯é€²è¡Œæ’åºã€‚
      </div>

      <div class="filters">
        <span class="filters-label">ç¯©é¸ï¼š</span>
        <input type="text" id="searchInput" placeholder="æœå°‹ è³‡ç”¢ç·¨è™Ÿ / ä½¿ç”¨è€… / Hostname">
        <select id="statusFilter">
          <option value="">ç‹€æ…‹ï¼šå…¨éƒ¨</option>
          <option value="æ­£å¸¸">æ­£å¸¸</option>
          <option value="ç¶­ä¿®ä¸­">ç¶­ä¿®ä¸­</option>
          <option value="å ±å»¢">å ±å»¢</option>
          <option value="å€Ÿå‡ºä¸­">å€Ÿå‡ºä¸­</option>
        </select>
        <input type="text" id="deptFilter" placeholder="éƒ¨é–€ï¼šå…¨éƒ¨">
      </div>

      <div class="table-wrap">
        <table id="pcTable">
          <thead>
          <tr>
            <th data-sort="asset_id">è³‡ç”¢ç·¨è™Ÿ</th>
            <th data-sort="hostname">Hostname</th>
            <th data-sort="user">ä½¿ç”¨è€…</th>
            <th data-sort="department">éƒ¨é–€</th>
            <th data-sort="location">ä½ç½®</th>
            <th data-sort="status">ç‹€æ…‹</th>
            <th>å‚™è¨»</th>
            <th>æ“ä½œ</th>
          </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<script>
  const STORAGE_KEY = "it_inventory_data_v1";

  const defaultComputers = [
    {
      asset_id: "PC-001",
      hostname: "OFFICE-001",
      user: "ç‹å°æ˜",
      department: "è¡Œæ”¿",
      location: "è¾¦å…¬å®¤ A",
      type: "Desktop",
      spec: "i5 / 16GB / 512GB SSD",
      os: "Windows 10 Pro",
      status: "æ­£å¸¸",
      last_update: "2025-11-01",
      owner: "IT-Allen",
      note: ""
    },
    {
      asset_id: "PC-012",
      hostname: "QA-LAB-01",
      user: "å¼µå“å¦¤",
      department: "å“ä¿",
      location: "å“ä¿å¯¦é©—å®¤",
      type: "Desktop",
      spec: "i7 / 32GB / 1TB SSD",
      os: "Windows 11 Pro",
      status: "ç¶­ä¿®ä¸­",
      last_update: "2025-11-08",
      owner: "IT-Allen",
      note: "ç„¡æ³•é–‹æ©Ÿï¼Œé€ä¿®ä¸­"
    },
    {
      asset_id: "NB-005",
      hostname: "SALES-NB-01",
      user: "æå…ˆç”Ÿ",
      department: "ç”Ÿç”¢",
      location: "å¤–å‡ºæ”œå¸¶",
      type: "Laptop",
      spec: "Ryzen 5 / 16GB / 512GB",
      os: "Windows 11 Pro",
      status: "å€Ÿå‡ºä¸­",
      last_update: "2025-11-03",
      owner: "IT-Allen",
      note: "é è¨ˆ 11/15 æ­¸é‚„"
    },
    {
      asset_id: "PC-020",
      hostname: "OLD-SERVER-01",
      user: "-",
      department: "ç ”ç™¼",
      location: "æ©Ÿæˆ¿",
      type: "Desktop",
      spec: "å¤è€æ©Ÿç¨®",
      os: "Windows 7",
      status: "å ±å»¢",
      last_update: "2025-10-20",
      owner: "IT-Allen",
      note: "åƒ…ä¿ç•™ç¡¬ç¢Ÿå¾…éŠ·æ¯€"
    }
  ];

  let computers = [];
  let currentSortKey = "asset_id";
  let currentSortAsc = true;

  const lastSyncEl = document.getElementById("lastSync");
  const tbody = document.querySelector("#pcTable tbody");
  const searchInput = document.getElementById("searchInput");
  const statusFilter = document.getElementById("statusFilter");
  const deptFilter = document.getElementById("deptFilter");
  const formTitle = document.getElementById("formTitle");

  const form = document.getElementById("pcForm");
  const f_asset_id = document.getElementById("asset_id");
  const f_hostname = document.getElementById("hostname");
  const f_user = document.getElementById("user");
  const f_department = document.getElementById("department");
  const f_location = document.getElementById("location");
  const f_status = document.getElementById("status");
  const f_spec = document.getElementById("spec");
  const f_os = document.getElementById("os");
  const f_owner = document.getElementById("owner");
  const f_note = document.getElementById("note");

  function loadData() {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) {
      try {
        const parsed = JSON.parse(saved);
        if (Array.isArray(parsed)) return parsed;
      } catch (e) {
        console.warn("localStorage è³‡æ–™è§£æå¤±æ•—ï¼Œä½¿ç”¨é è¨­è³‡æ–™");
      }
    }
    return [...defaultComputers];
  }

  function saveData() {
    const today = new Date().toISOString().slice(0, 10);
    computers = computers.map(c => ({
      ...c,
      last_update: c.last_update || today
    }));
    localStorage.setItem(STORAGE_KEY, JSON.stringify(computers));
    updateLastSync();
    renderTable();
  }

  function updateLastSync() {
    if (!computers.length) {
      lastSyncEl.textContent = "ç„¡è³‡æ–™";
      return;
    }
    const latest = computers.reduce(
      (max, c) => (c.last_update && c.last_update > max ? c.last_update : max),
      "0000-00-00"
    );
    lastSyncEl.textContent = latest || "æœªè¨­å®š";
  }

  function renderTable() {
    const keyword = searchInput.value.trim().toLowerCase();
    const fStatus = statusFilter.value;
    const fDept = deptFilter.value.trim();

    let data = [...computers];

    data = data.filter(c => {
      if (fStatus && c.status !== fStatus) return false;
      if (fDept && c.department !== fDept) return false;
      if (keyword) {
        const text = (
          (c.asset_id || "") +
          (c.hostname || "") +
          (c.user || "") +
          (c.department || "")
        ).toLowerCase();
        if (!text.includes(keyword)) return false;
      }
      return true;
    });

    data.sort((a, b) => {
      const x = (a[currentSortKey] || "").toString();
      const y = (b[currentSortKey] || "").toString();
      if (x === y) return 0;
      return currentSortAsc
        ? x.localeCompare(y, "zh-Hant")
        : y.localeCompare(x, "zh-Hant");
    });

    tbody.innerHTML = "";
    data.forEach(c => {
      const tr = document.createElement("tr");

      const statusClass =
        c.status === "æ­£å¸¸" ? "status-ok" :
        c.status === "ç¶­ä¿®ä¸­" ? "status-repair" :
        c.status === "å ±å»¢" ? "status-retired" :
        c.status === "å€Ÿå‡ºä¸­" ? "status-loan" : "";

      tr.innerHTML = `
        <td>${c.asset_id || ""}</td>
        <td>${c.hostname || ""}</td>
        <td>${c.user || ""}</td>
        <td>${c.department || ""}</td>
        <td>${c.location || ""}</td>
        <td><span class="${statusClass}">${c.status || ""}</span></td>
        <td class="note">${c.note || ""}</td>
        <td class="actions">
          <button type="button" onclick="editComputer('${c.asset_id || ""}')">ç·¨è¼¯</button>
          <button type="button" onclick="deleteComputer('${c.asset_id || ""}')">åˆªé™¤</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  document.querySelectorAll("th[data-sort]").forEach(th => {
    th.addEventListener("click", () => {
      const key = th.getAttribute("data-sort");
      if (currentSortKey === key) {
        currentSortAsc = !currentSortAsc;
      } else {
        currentSortKey = key;
        currentSortAsc = true;
      }
      renderTable();
    });
  });

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const asset_id = f_asset_id.value.trim();
    if (!asset_id) {
      alert("è«‹å¡«å¯«è³‡ç”¢ç·¨è™Ÿï¼ˆå¿…å¡«ï¼Œä¸”ä¸å¯é‡è¤‡ï¼‰");
      return;
    }

    const existingIndex = computers.findIndex(c => c.asset_id === asset_id);
    const today = new Date().toISOString().slice(0, 10);

    const newData = {
      asset_id,
      hostname: f_hostname.value.trim(),
      user: f_user.value.trim(),
      department: f_department.value.trim(),
      location: f_location.value.trim(),
      status: f_status.value,
      spec: f_spec.value.trim(),
      os: f_os.value.trim(),
      owner: f_owner.value.trim(),
      note: f_note.value.trim(),
      last_update: today
    };

    if (existingIndex >= 0) {
      computers[existingIndex] = newData;
    } else {
      computers.push(newData);
    }

    saveData();
    clearForm();
  });

  function clearForm() {
    form.reset();
    f_status.value = "æ­£å¸¸";
    formTitle.textContent = "æ–°å¢ / ç·¨è¼¯é›»è…¦è³‡æ–™";
  }

  function editComputer(asset_id) {
    const c = computers.find(x => x.asset_id === asset_id);
    if (!c) return;
    f_asset_id.value = c.asset_id || "";
    f_hostname.value = c.hostname || "";
    f_user.value = c.user || "";
    f_department.value = c.department || "";
    f_location.value = c.location || "";
    f_status.value = c.status || "æ­£å¸¸";
    f_spec.value = c.spec || "";
    f_os.value = c.os || "";
    f_owner.value = c.owner || "";
    f_note.value = c.note || "";
    formTitle.textContent = `ç·¨è¼¯ï¼š${c.asset_id}`;
    f_asset_id.focus();
  }

  function deleteComputer(asset_id) {
    if (!asset_id) return;
    if (!confirm(`ç¢ºå®šè¦åˆªé™¤è³‡ç”¢ç·¨è™Ÿ ${asset_id} å—ï¼Ÿ`)) return;
    computers = computers.filter(c => c.asset_id !== asset_id);
    saveData();
    if (f_asset_id.value === asset_id) clearForm();
  }

  function resetToDefault() {
    if (!confirm("æ­¤å‹•ä½œåƒ…å½±éŸ¿æ­¤ç€è¦½å™¨ï¼Œå°‡æ¸…é™¤ç›®å‰è³‡æ–™ä¸¦é‚„åŸç‚ºç¯„ä¾‹ï¼Œç¢ºå®šï¼Ÿ")) return;
    localStorage.removeItem(STORAGE_KEY);
    computers = [...defaultComputers];
    updateLastSync();
    renderTable();
    clearForm();
  }

  window.editComputer = editComputer;
  window.deleteComputer = deleteComputer;
  window.resetToDefault = resetToDefault;
  window.clearForm = clearForm;

  (function init() {
    computers = loadData();
    updateLastSync();
    renderTable();
  })();
</script>
</body>
</html>
