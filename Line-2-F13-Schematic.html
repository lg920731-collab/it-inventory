<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Line 2 Schematic | Maintenance Smart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Apply stored theme & style -->
  <script>
    (function () {
      const storedTheme = localStorage.getItem('ms-theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = storedTheme || (prefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);

      const style = localStorage.getItem('ms-style') || 'blue';
      document.documentElement.setAttribute('data-style', style);
    })();
  </script>

  <style>
    :root {
      --bg:#f3f4f6;
      --card-bg:#ffffff;
      --border-subtle:#e5e7eb;
      --accent:#2563eb;
      --accent-hover:#11d4ed8;
      --text:#111827;
      --text-soft:#6b7280;
    }
    html[data-theme="dark"]{
      --bg:#020617;
      --card-bg:#020617;
      --border-subtle:#1f2937;
      --accent:#60a5fa;
      --accent-hover:#3b82f6;
      --text:#e5e7eb;
      --text-soft:#9ca3af;
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:system-ui,-apple-system,sans-serif;
      background:radial-gradient(circle at top,rgba(129,140,248,.12),transparent),var(--bg);
      color:var(--text);min-height:100dvh;display:flex;flex-direction:column;align-items:center;
      padding:16px;transition:background .25s ease,color .25s ease;
    }
    html[data-style="panther"] body{
      background:radial-gradient(circle at top,rgba(244,114,182,.28),transparent),var(--bg);
    }
    html[data-style="hangyodon"] body{
      background:radial-gradient(circle at top,rgba(56,189,248,.35),transparent),var(--bg);
    }
    .side-panther,.side-hangyodon{
      position:fixed;top:50%;transform:translateY(-50%);width:320px;opacity:.9;
      z-index:1;pointer-events:none;user-select:none;display:none;
    }
    .side-panther.left{left:1.5%;transform:translateY(-50%) scaleX(1)}
    .side-panther.right{right:1.5%;transform:translateY(-50%) scaleX(-1)}
    .side-hangyodon.left{left:1.5%;transform:translateY(-50%) scaleX(-1)}
    .side-hangyodon.right{right:1.5%;transform:translateY(-50%) scaleX(1)}
    html[data-style="panther"] .side-panther{display:block}
    html[data-style="hangyodon"] .side-hangyodon{display:block}
    @media(max-width:1000px){.side-panther,.side-hangyodon{display:none}}

    h1{color:var(--accent);font-size:22px;font-weight:600;margin:0 0 6px;text-align:center;z-index:2;position:relative}
    .subtitle{font-size:13px;color:var(--text-soft);margin:0 0 10px;text-align:center;position:relative;z-index:2}

    .toolbar{
      display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:10px;
      position:relative;z-index:2;
    }
    .btn{
      font-size:13px;padding:6px 12px;border-radius:999px;border:1px solid rgba(37,99,235,.35);
      background:#fff;color:var(--accent);text-decoration:none;cursor:pointer;
      box-shadow:0 4px 10px rgba(37,99,235,.12);transition:.15s;
    }
    .btn:hover{
      background:var(--accent);color:#fff;border-color:var(--accent-hover);
      box-shadow:0 6px 14px rgba(37,99,235,.25);
    }

    .viewer{
      width:100%;max-width:1100px;height:calc(100dvh - 170px);min-height:380px;
      background:var(--card-bg);border-radius:14px;overflow:hidden;z-index:2;position:relative;
      border:1px solid var(--border-subtle);box-shadow:0 10px 24px rgba(15,23,42,.08);
    }
    .viewer object{width:100%;height:100%;border:0;display:block}
    .fallback{text-align:center;padding:18px;font-size:13px;color:var(--text-soft)}
  </style>
</head>

<body>

  <!-- mascots -->
  <img src="pinkpanther1.png" class="side-panther left">
  <img src="pinkpanther2.png" class="side-panther right">
  <img src="hangyodon1.png" class="side-hangyodon left">
  <img src="hangyodon2.png" class="side-hangyodon right">

  <h1>Line 2 Schematic</h1>
  <div class="subtitle">Production Line 2 – Wiring and PLC Diagram</div>

  <div class="toolbar">
    <a class="btn" id="openNewTab" href="#" rel="noopener">Open PDF in New Tab ↗</a>
    <a class="btn" href="index.html">← Back to Portal</a>
  </div>

  <div class="viewer">
    <object id="pdfObject" data="Line-2-F13-Schematic.pdf#view=FitH" type="application/pdf">
      <div class="fallback">
        Unable to display PDF.  
        <a class="btn" href="Line-2-F13-Schematic.pdf">Open PDF</a>
      </div>
    </object>
  </div>

  <script>
    (function(){
      const pdfUrl="Line-2-F13-Schematic.pdf";
      document.getElementById("openNewTab").href=pdfUrl;

      const isMobile=/iphone|ipad|ipod|android/i.test(navigator.userAgent);
      // if(isMobile) window.location.replace(pdfUrl);

      document.getElementById("pdfObject").addEventListener("error",()=>{
        document.querySelector(".viewer").innerHTML=
          '<div class="fallback">Unable to load PDF. <a class="btn" href="'+pdfUrl+'">Open PDF</a></div>';
      });
    })();
  </script>

</body>
</html>
